/*
 * @name: datejs
 * @version: 1.0.0
 * @description: javascript Date Object extend
 * @author: zbm2001@aliyun.com
 * @license: Apache 2.0
 */
!function(){"use strict";function e(e){return s.call(e).slice(8,-1)}function t(t){return"Function"===e(t)&&u===(t+="").slice(t.indexOf("{"))}function r(){for(var e="object"==typeof navigator?navigator.language||"en-US":"en-US",t=0,r=h.length;t<r;t++)if(h[t].name===e)return h[t];return null}function a(e,t,r,a){if(null==e)return!1;if("number"!=typeof e)throw new TypeError(e+" is not a Number.");if(e<t||e>r)throw new RangeError(e+" is not a valid value for "+a+".");return!0}function n(e){var t,r,a,n,s,i=new Date,u=new Date,o=new Date,y=0,h=0;switch(u.setTimeToFirst(),t=u,o.setTimeToLast(),r=o,e){case"today":y=0;break;case"yesterday":y=-1,h=-1;break;case"thisWeek":y=1-t.getDay();break;case"lastWeek":h=-r.getDay(),y=h+1-7;break;case"thisMonth":y=1-t.getDate();break;case"lastMonth":h=-r.getDate(),i.setDate(0),y=h+1-i.getMonthDays();break;case"thisQuarter":y=1-t.getQuarterDate();break;case"lastQuarter":h=-r.getQuarterDate(),i.setDate(h+i.getDate()),y=h+1-i.getQuarterDays();break;case"thisYear":y=1-t.getYearDate();break;case"lastYear":h=-r.getYearDate(),i.setFullYear(i.getFullYear()-1),y=h+1-i.getYearDays();break;default:if(N.test(e)&&(number=parseInt(RegExp.$2))>0&&(n=RegExp.$3,a=Date.pluralClassifiers[n]))switch(RegExp.$1){case"last":y=-i.getDaysByPastClassifiers(a,number)+1;break;case"past":y=-i.getDaysByPastClassifiers(a,number),s=i.getDateByClassifier(a,number),y-=s-1,h-=s;break;case"next":h=i.getDaysByNextClassifiers(a,number),s=i.getRestDaysByClassifier(a,number),y+=s+1,h+=s}throw new Error("Unknown time period definition: "+e)}return t.setDate(t.getDate()+y),r.setDate(r.getDate()+h),[t,r]}var s=Object.prototype.toString,i=Array.prototype.pop+"",u=i.slice(i.indexOf("{"));t(Object.assign)?Object.assign:Object.assign=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a,n,s=Object(e),i=0,u=t.length;i<u;i++)if(n=t[i],null!=n)for(a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);return s};var o={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},unitNames:{millisecond:"millisecond",second:"second",minute:"minute",hour:"hour",day:"day",week:"week",month:"month",quarter:"quarter",year:"year",century:"century"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},y={name:"zh-CN",englishName:"Chinese (People's Republic of China)",nativeName:"中文(中华人民共和国)",dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],abbreviatedDayNames:["日","一","二","三","四","五","六"],shortestDayNames:["日","一","二","三","四","五","六"],firstLetterDayNames:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],abbreviatedMonthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],amDesignator:"上午",pmDesignator:"下午",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"ymd",formatPatterns:{shortDate:"yyyy/M/d",longDate:"yyyy'年'M'月'd'日'",shortTime:"H:mm",longTime:"H:mm:ss",fullDateTime:"yyyy'年'M'月'd'日' H:mm:ss",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"M'月'd'日'",yearMonth:"yyyy'年'M'月'"},unitNames:{millisecond:"毫秒",second:"秒",minute:"分钟",hour:"小时",day:"天",week:"周",month:"月",quarter:"季度",year:"年",century:"世纪"},regexPatterns:{jan:/^一月/i,feb:/^二月/i,mar:/^三月/i,apr:/^四月/i,may:/^五月/i,jun:/^六月/i,jul:/^七月/i,aug:/^八月/i,sep:/^九月/i,oct:/^十月/i,nov:/^十一月/i,dec:/^十二月/i,sun:/^星期日/i,mon:/^星期一/i,tue:/^星期二/i,wed:/^星期三/i,thu:/^星期四/i,fri:/^星期五/i,sat:/^星期六/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},h=[o,y],c={CultureInfos:h,getCultureInfo:r},d=/y+/,f=/M+/,l=/d+/,g=/h+/,m=/m+/,D=/s+/,M=/S+/,T=/y+/g,p=/M+/g,v=/d+/g,b=/h+/g,w=/m+/g,Y=/s+/g,C=/S+/g,S=/[Mdhms]+/g,k=/\d+/g,N=/^(this|last|past|next)\s*([0-9]*)\s*(days?|weeks?|months?|quarters?|years?|century|centuries)$/i,F=[31,28,31,30,31,30,31,31,30,31,30,31],O=[90,91,92,92];Object.assign(Date.prototype,{setTimeToFirst:function(){return this.setHours(0,0,0,0)},setTimeToLast:function(){return this.setHours(23,59,59,999)},setTimeByDate:function(e){return this.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},setTimeByNow:function(){return this.setTimeByDate(new Date)},compareTo:function(e){if(Date.isDate(e))return this<e?-1:this>e?1:0;throw new TypeError(e+" is not a Date object")},equals:function(e){return 0===this.compareTo(e)},isBefore:function(e){return this.compareTo(e)<0},isAfter:function(e){return this.compareTo(e)>0},between:function(e,t){return this.compareTo(e)>=0&&this.compareTo(t)<=0},clone:function(){return new Date(this.getTime())},addMilliseconds:function(e){return this.setMilliseconds(this.getMilliseconds()+1*e),this},addSeconds:function(e){return this.addMilliseconds(1e3*e)},addMinutes:function(e){return this.addMilliseconds(60*e*1e3)},addHours:function(e){return this.addMilliseconds(60*e*60*1e3)},addDays:function(e){return this.setDate(this.getDate()+1*e),this},addWeeks:function(e){return this.addDays(7*e)},addMonths:function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+1*e),this.setDate(Math.min(t,this.getMonthDays())),this},addYears:function(e){return this.addMonths(12*e)},getNaturalMonth:function(){return this.getMonth()+1},setNaturalMonth:function(e){return Date.validateNaturalMonth(e)?this.setMonth(e-1):void this.getTime()},getDaysPerMonth:function(){var e=this.getFullYear(),t=F.slice();return e%4||!(e%400)||(t[1]=29),t},getDaysPerQuarter:function(){var e=this.getFullYear(),t=O.slice();return e%4||!(e%400)||(t[0]=91),t},getMonthDays:function(){var e,t=this.getMonth();return 1!==t?F[t]:(e=this.getFullYear(),e%4||!(e%400)?28:29)},getQuarterDays:function(){var e,t=this.getQuarter();return 1!==t?O[t-1]:(e=this.getFullYear(),e%4||!(e%400)?90:91)},getYearDays:function(){var e=this.getFullYear();return e%4||!(e%400)?365:366},getCenturyDays:function(){var e=0,t=this.getFullYear(),r=100*parseInt(t/100);return e+=36500+parseInt(99/4),!(r%400)&&e++,e},getQuarter:function(){return parseInt((this.getMonth()+3)/3)},getCentury:function(){var e=this.getFullYear();return parseInt(e/100)},getQuarterDate:function(){var e=this.getMonth(),t=e&&this.getDaysPerMonth().slice(3*parseInt(e/3),e).reduce(function(e,t){return e+t},0);return t+this.getDate()},getYearDate:function(){var e=this.getMonth(),t=e&&this.getDaysPerMonth().slice(0,e).reduce(function(e,t){return e+t},0);return t+this.getDate()},getCenturyDate:function(){var e=this.getYearDate(),t=this.getFullYear(),r=100*parseInt(t/100);return e+=365*(t-r-1)+parseInt((t-r)/4),!(r%400)&&e++,e},isLeapYear:function(){var e=this.getFullYear();return!(e%4||!(e%400))},isAverageYear:function(){var e=this.getFullYear();return!(!(e%4)&&e%400)},getDateByClassifier:function(e){switch(e){case"day":return 1;case"week":return this.getDay();case"month":return this.getDate();case"quarter":return this.getQuarterDate();case"year":return this.getYearDate();case"century":return this.getCenturyDate();default:return 1}},getRestDaysByClassifier:function(e){switch(e){case"day":return 0;case"week":return 6-this.getDay();case"month":return this.getMonthDays()-this.getDate();case"quarter":return this.getQuarterDays()-this.getQuarterDate();case"year":return this.getYearDays()-this.getYearDate();case"century":return this.getCenturyDays()-this.getCenturyDate();default:return 0}},getDaysByClassifier:function(e){switch(e){case"day":return 1;case"week":return 7;case"month":return this.getMonthDays();case"quarter":return this.getQuarterDays();case"year":return this.getYearDays();case"century":return this.getCenturyDays();default:return 1}},getDaysByPastClassifiers:function(e,t){switch(e){case"day":return t;case"week":return 7*t;case"month":return this.getDaysByPastMonths(t);case"quarter":return this.getDaysByPastQuarters(t);case"year":return this.getDaysByPastYears(t);case"century":return this.getDaysByPastCenturies(t);default:return t}},getDaysByPastMonths:function(e){for(var t=this.getMonth()+1,r=this.getFullYear(),a=0;e>0;e--)--t<1&&(t=12,r--),a+=Date.getMonthDays(t,r);return a},getDaysByPastQuarters:function(e){for(var t=this.getQuarter(),r=this.getFullYear(),a=0;e>0;e--)--t<1&&(t=4,r--),a+=Date.getQuarterDays(t,r);return a},getDaysByPastYears:function(e){for(var t=this.getFullYear(),r=0;e>0;e--)r+=Date.getYearDays(--t);return r},getDaysByPastCenturies:function(e){for(var t=this.getCentury(),r=0;e>0;e--)r+=Date.getCenturyDays(--t);return r},getDaysByNextClassifiers:function(e,t){switch(e){case"day":return t;case"week":return 7*t;case"month":return this.getDaysByNextMonths(t);case"quarter":return this.getDaysByNextQuarters(t);case"year":return this.getDaysByNextYears(t);case"century":return this.getDaysByNextCenturies(t);default:return t}},getDaysByNextMonths:function(e){for(var t=this.getMonth()+1,r=this.getFullYear(),a=0;e>0;e--)++t>12&&(t=1,r++),a+=Date.getMonthDays(t,r);return a},getDaysByNextQuarters:function(e){for(var t=this.getQuarter(),r=this.getFullYear(),a=0;e>0;e--)++t>4&&(t=1,r++),a+=Date.getQuarterDays(t,r);return a},getDaysByNextYears:function(e){for(var t=this.getFullYear(),r=0;e>0;e--)r+=Date.getYearDays(++t);return r},getDaysByNextCenturies:function(e){for(var t=this.getCentury(),r=0;e>0;e--)r+=Date.getCenturyDays(++t);return r},getYearWeek:function(){},getQuarterWeek:function(){},getMonthWeek:function(){},set:function(e){return Date.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),Date.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),Date.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),Date.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),Date.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),Date.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),Date.validateDay(e.day,this.getMonth(),this.getFullYear())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),e.week&&a(e.week,0,53,"week")&&this.setWeek(e.week),this},getUTCOffset:function(){var e,t=this.getTimezoneOffset()*-10/6;return t<0?(e=(t-1e4).toString(),e.charAt(0)+e.substr(2)):(e=(t+1e4).toString(),"+"+e.substr(1))},getTimezone:function(){return Date.getTimezoneAbbreviation(this.getUTCOffset())},setTimezoneOffset:function(e){var t=this.getTimezoneOffset(),r=Number(e)*-6/10;return this.addMinutes(r-t)},setTimezone:function(e){return this.setTimezoneOffset(Date.getTimezoneOffset(e))},format:function(e){e||(e=Date.FORMAT);var t=this,r=[[f,"getNaturalMonth"],[l,"getDate"],[g,"getHours"],[m,"getMinutes"],[D,"getSeconds"]],a=0,n=r.length;for(e=e.replace(d,function(e){return(t.getFullYear()+"").substr(-e.length)});a<n;a++)e=e.replace(r[a][0],function(e){var n=t[r[a][1]]();return(n>9||e.length<2?"":"0")+n});return e=e.replace(M,function(e){var r=t.getMilliseconds();return(r>99||e.length<3?"":"0")+r}),e=e.replace("q",function(e){return parseInt((t.getMonth()+3)/3)})}}),Object.assign(Date,{isDate:function(e){return"[object Date]"===Object.prototype.toString.call(e)},validateMillisecond:function(e){return a(e,0,999,"millisecond")},validateSecond:function(e){return a(e,0,59,"second")},validateMinute:function(e){return a(e,0,59,"minute")},validateHour:function(e){return a(e,0,23,"hour")},validateDay:function(e){return a(e,0,6,"day")},validateDate:function(e,t,r){return a(e,1,Date.getMonthDays(t,r),"date")},validateMonth:function(e){return a(e,0,11,"month")},validateNaturalMonth:function(e){return a(e,1,12,"natural month")},validateYear:function(e){return a(e,0,9999,"year")},today:function(){var e=new Date;return e.setHours(0,0,0,0),e},getDaysPerMonth:function(e){var t=F.slice();return Date.isLeapYear(e)&&(t[1]=29),t},getMonthDays:function(e,t){return 2!==e?F[e-1]:t%4||!(t%400)?28:29},getNaturalMonthDays:function(e,t){return 1!==e?F[e]:t%4||!(t%400)?28:29},getQuarterDays:function(e,t){return 1!==e?O[e-1]:t%4||!(t%400)?90:91},getYearDays:function(e){return e%4||!(e%400)?365:366},getCenturyDays:function(e){var t=0,r=100*(Math.abs(e)-1);return t+=36500+parseInt(99/4),!(r%400)&&t++,t},getCenturyDaysByYear:function(e){var t=Date.getCentury(e);return Date.getCenturyDays(t)},getCentury:function(e){return parseInt(e/100)+(e<0?1:-1)},isLeapYear:function(e){return!(e%4||!(e%400))},isAverageYear:function(e){return!(!(e%4)&&e%400)},parse2Date:function(e,t){if("number"==typeof e)return new Date(e);e=String(e);var r=Date.parse(e);if(r===r)return new Date(r);t=t?t.replace(S,function(e){return(e=e.charAt(0))+e}):Date.FORMAT,e=e.replace(k,function(e){return e.length<2?"0"+e:e});for(var a,n,s=new Date,i=[[T,"setFullYear"],[p,"setRealMonth"],[v,"setDate"],[b,"setHours"],[w,"setMinutes"],[Y,"setSeconds"],[C,"setMilliseconds"]],u=-1,o=i.length;++u<o;)a=i[u][0],n=i[u][1],s[n](a.test(t)?parseInt(e.slice(a.lastIndex-RegExp.lastMatch.length,a.lastIndex))||0:0),a.lastIndex=0;return s},parse2DateFormatsByPeriod:function(e,t){var r=n(e);return t||(t=Date.FORMAT),[r[0].format(t),r[1].format(t)]},parse2DateObjectsByPeriod:function(e){return n(e)},getTimezoneAbbreviation:function(e){for(var t=c.getCultureInfo(),r=t.timezones,a=0,n=r.length;a<n;a++)if(r[a].offset===e)return r[a].name;return null},getTimezoneOffset:function(e){for(var t=c.getCultureInfo(),r=t.timezones,a=0,n=r.length;a<n;a++)if(r[a].name===e.toUpperCase())return r[a].offset;return null},FORMAT:"yyyy-MM-dd hh:mm:ss SSS",FORMAT_DATE:"yyyy-MM-dd",FORMAT_DATETIME:"yyyy-MM-dd hh:mm:ss",UTC_FORMAT:"yyyy-MM-ddThh:mm:ss.SSSZ",pluralClassifiers:{milliseconds:"millisecond",seconds:"second",minutes:"minute",hours:"hour",days:"day",weeks:"week",months:"month",quarters:"quarter",years:"year",centuries:"century"},rPeriod:N}),Date.i18n=c}();